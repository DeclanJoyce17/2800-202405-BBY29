<%- include("templates/header") %>

  <link rel="stylesheet" type="text/css" href="/styles/main.css" text="">
  <link rel="stylesheet" href="../../styles/style.css">

  </head>

  <!-- nav bar -->
  <nav>
    <br>
    <a href="fitTasks">
      <input type="image" class="navButton" src="../img/FitnessButton.png">
    </a>
    <a href="dietTasks">
      <input type="image" class="navButton" src="../img/DietButton.png">
    </a>
    <a href="shop">
      <input type="image" class="navButton" src="../img/shop.png" style="width:100px;">
    </a>
  </nav>

  <!-- Chatbot -->
  <form action="/aichat-home" method="get" class="index-form px-4 py-5 my-5 text-center">
    <label for="chatbot">Ask me</label>
    <button type="submit" class="index-btn">ChatBot</button>
  </form>

  <!-- Welcome messsge -->
  <div class="px-4 py-5 my-5 text-center">
    <h4 style="margin-bottom: 5%;" class="display-4"><%= greeting %>, <%= username %></h4>
    <div class="col-lg-6 mx-auto">
      <div class="navText">
        <h1>Rank:<%= rank %></h1>
          <h1>Points:<%= points %></h1>
      </div>
    </div>
  </div>

  <!-- Leader board -->
  <div class="px-4 py-5 my-5 text-center">
    <div id="main">
      <div id="header">
        <h1>Ranking</h1>
        <!-- <button class="share">
          <i class="ph ph-share-network"></i>
        </button> -->
      </div>
      <div id="leaderboard">
        <div class="ribbon "></div>
        <table>
          <% users.forEach(function(user, index) { %>
            <tr>
              <td class="number">
                <%= index + 1 %>
              </td>
              <td class="profile-image">
                <img src="./images/<%= user._id %>" width="50" height="50" alt="Profile" />
              </td>
              <td class="name">
                <%= user.username %>
              </td>
              <td class="points">
                <%= user.points %>
                  <% if (index===0) { %>
                    <img class="gold-medal"
                      src="https://github.com/malunaridev/Challenges-iCodeThis/blob/master/4-leaderboard/assets/gold-medal.png?raw=true"
                      alt="gold medal" />
                    <% } %>
              </td>
            </tr>
            <% }); %>
        </table>
      </div>
    </div>
  </div>

  <!-- tasks list -->
  <div class="px-4 py-5 my-5 text-center">
    <ul>
      <% if (tasks.length===0) { %>
        <li>No tasks on your list</li>
        <% } else { %>
          <% tasks.forEach(function(task) { %>
            <li class="task-item">
              <%= task %>
            </li>
            <% }); %>
        <% } %>
    </ul>
  </div>

  <!-- buttons -->
  <div class="px-4 py-5 my-5 text-center">
    <form action="/map" method="get" class="index-form">
      <button type="submit" class="index-btn">Map</button>
    </form>

    <form action="/logout" method="get" class="index-form">
      <button type="submit" class="index-btn">Logout</button>
    </form>
  </div>
  
  <!-- Footer -->
  <%- include("templates/footer") %>